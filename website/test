#def contact(request):

    if request.method == 'POST':
        name = request.POST['name']
        email = request.POST['email']
        subject = request.POST['subject']
        message = request.POST['message']

        #send email to manager
        send_mail(subject,message,email,['aabduljabar@swedoaid.org']
          )
        return render(request, 'contact.html',{'name':name})
    else:
        return render(request, 'contact.html')









                    <table class="table table-hover">
                        <thead class="thead-dark">
                        <tr>
                            <th scope="col">id</th>
                            <th scope="col">Name</th>
                            <th scope="col">Email</th>
                            <th scope="col">Address</th>
                            <th scope="col">Phone</th>
                            <th scope="col">Date</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for appointment in appointments %}
                        <tr>
                            <th scope="row">{{appointment.id}}</th>
                            <td> {{appointment.name}}</td>
                            <td> {{appointment.address}}</td>
                            <td>{{appointment.email}}</td>
                            <td>{{appointment.phone}}</td>
                            <td>{{appointment.date}}</td>
                            <td><a href="" style="display: inline;"><span class="btn btn-success btn-sm">Edit</span>
                            </a></td>
                        </tr>
                        {% endfor %}
                        </tbody>



                        {%if user.is_authenticated%}{%endif%}



DATABASES = {

    'default': dj_database_url.config(

        default='mysql://ra3088zq3xlw0y1h:j3sxqn9j5qidrgnh@eanl4i1omny740jw.cbetxkdyhwsb.us-east-1.rds.amazonaws.com:3306/cnjogdf58wagvdjv',
        engine='django.db.backends.mysql'


    )
}



DATABASES = {
     'default': {
      'ENGINE': 'django.db.backends.mysql',
      'NAME': 'dentest',
      'USER': 'root',
      'PASSWORD': 'qwer1234',
      'HOST': 'localhost',
      'PORT': '3306 ',
       'OPTIONS': {
            'init_command': 'SET sql_mode="STRICT_TRANS_TABLES"',
        },
    }
}



<div class="container">
    <div class="row justify-content-center">
        <div class="col-md-12">
            <h1 class="h2" align="center">All Oral Surgery Information</h1>
            <br/>

            <table class="table table-hover">
                <thead class="thead-dark">
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Patient #</th>
                    <th scope="col">Patient Name</th>
                    <th scope="col">Tooth Extraction</th>
                    <th scope="col">RX</th>
                    <th scope="col">Material Type</th>
                    <th scope="col">Thickness Of Rich</th>
                    <th scope="col">Size of Implant</th>
                    <th scope="col">Direction</th>
                    <th scope="col">Tooth Number</th>

                </tr>
                </thead>
                <tbody>
                <tr>
                    <th scope="row">{{form.initial.id}}</th>
                    <td> {{form.initial.idReception}}</td>
                    <td> {{form.initial.idReception.name}}</td>
                    <td> {{form.initial.tooth}}</td>
                    <td> {{form.initial.RX}}</td>
                    <td> {{form.initial.material_type}}</td>
                    <td> {{form.initial.thickness_rich}}</td>
                    <td>{{form.initial.size}}</td>
                    <td>{{form.initial.size_direction}}</td>
                    <td>{{form.initial.size_number}}</td>


                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<div class="container">
    <div class="col-8">

        <form method="POST">
            {% csrf_token %}
            <table>
                <tr>
                    <td>ID</td>
                    <td><input type="text" name="id" value="{{form.initial.id}}"></td>
                </tr>
                <tr>
                    <td>idReception</td>
                    <td><input type="text" name="idReception" value="{{form.initial.idReception}}"></td>
                </tr>
                <tr>
                    <td>RX</td>
                    <td><input type="text" name="RX" value="{{form.initial.RX}}"></td>
                </tr>
                <tr>
                    <td>tooth</td>
                    <td><input type="text" name="tooth" value="{{form.initial.tooth}}"></td>
                </tr>
                <tr>
                    <td>tooth</td>
                    <td><input type="text" name="material_type" value="{{form.initial.material_type}}"></td>
                </tr>
                <tr>
                    <td>tooth</td>
                    <td><input type="text" name="thickness_rich" value="{{form.initial.thickness_rich}}"></td>
                </tr>
                <tr>
                    <td>tooth</td>
                    <td><input type="text" name="size" value="{{form.initial.size}}"></td>
                </tr>
                <tr>
                    <td>tooth</td>
                    <td><input type="text" name="size_direction" value="{{form.initial.size_direction}}"></td>
                </tr>
                <tr>
                    <td>tooth</td>
                    <td><input type="text" name="size_number" value="{{form.initial.size_number}}"></td>
                </tr>
                <tr>
                    <td>tooth</td>
                    <td><input type="text" name="second_visit" value="{{form.initial.second_visit}}"></td>
                </tr>
                <tr>
                    <td>tooth</td>
                    <td><input type="text" name="third_visit" value="{{form.initial.third_visit}}"></td>
                </tr>
                <tr>
                    <td>tooth</td>
                    <td><input type="text" name="fourth_visit" value="{{form.initial.fourth_visit}}"></td>
                </tr>
                <tr>
                    <td>tooth</td>
                    <td><input type="text" name="fifth_visit" value="{{form.initial.fifth_visit}}"></td>
                </tr>

            </table>


            <input type="submit" value="Update" class="btn btn-info">

        </form>
    </div>
</div>




class OralSurgeryForm(forms.ModelForm):
    TOOTH_CHOICES = [('Yes', 'Yes'), ('No', 'No')]
    RX_CHOICES = [('AUG', 'AUG'), ('AUG1', 'AUG1')]
    MATERIAL_TYPE_CHOICES = [('Platin', 'Platin'), ('Other', 'Other')]
    THICKNESS_RICH_CHOICES = [('Thin', 'Thin'), ('Thick', 'Thick')]
    SIZE_CHOICES = [('3*10', '3*10'), ('4*10', '4*10'), ('5*10', '5*10'), ('6*10', '6*10'), ('7*10', '7*10')]
    SIZE_DIRECTION_CHOICES = [('left', 'left'), ('Right', 'Right'), ('Upper', 'Upper'), ('Lower', 'Lower')]
    SIZE_NUMBER_CHOICES = [('1', '1'), ('2', '2'), ('3', '3'), ('4', '4'), ('5', '5'), ('6', '6'), ('7', '7'), ('8', '8')]
    SECOND_VISIT_CHOICES = [('Removal of Sucher', 'Removal of Sucher')]
    THIRD_VISIT_CHOICES = [('Gingival Formal', 'Gingival Formal')]
    FOURTH_VISIT_CHOICES = [('Abutment', 'Abutment')]
    FIFTH_VISIT_CHOICES = [('Zergon', 'Zergon'), ('Ceramic', 'Ceramic')]

    idReception = forms.Select(attrs={'class': 'form-control'})
    tooth = forms.ChoiceField(label='Yes/No', choices=TOOTH_CHOICES)
    RX = forms.ChoiceField(label='RX', choices=RX_CHOICES)
    material_type = forms.ChoiceField(label='material_type', choices=MATERIAL_TYPE_CHOICES)
    thickness_rich = forms.ChoiceField(label='thickness_rich', choices=THICKNESS_RICH_CHOICES)
    size = forms.ChoiceField(label='size', choices=SIZE_CHOICES)
    size_direction = forms.ChoiceField(label='size_direction', choices=SIZE_DIRECTION_CHOICES)
    size_number = forms.ChoiceField(label='size_number', choices=SIZE_NUMBER_CHOICES)
    second_visit = forms.ChoiceField(label='second_visit', choices=SECOND_VISIT_CHOICES)
    third_visit = forms.ChoiceField(label='third_visit', choices=THIRD_VISIT_CHOICES)
    fourth_visit = forms.ChoiceField(label='fourth_visit', choices=FOURTH_VISIT_CHOICES)
    fifth_visit = forms.ChoiceField(label='fifth_visit', choices=FIFTH_VISIT_CHOICES)

    class Meta:
        model = OralSurgery
        fields = ('idReception', 'tooth', 'RX', 'material_type', 'thickness_rich', 'size', 'size_direction', 'size_number', 'second_visit', 'third_visit', 'fourth_visit', 'fifth_visit')


1111111111111111111111111111
<html lang="en">
<head>
    <title>{% block title %}Dental Clinic {% endblock %}</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet">

    <link rel="stylesheet" href="{% static 'website/css/open-iconic-bootstrap.min.css'%}">
    <link rel="stylesheet" href="{% static 'website/css/bootstrap1.min.css'%}">
    <link rel="stylesheet" href="{% static 'website/css/animate.css'%}">

    <link rel="stylesheet" href="{% static 'website/css/owl.carousel.min.css'%}">
    <link rel="stylesheet" href="{% static 'website/css/owl.theme.default.min.css'%}">
    <link rel="stylesheet" href="{% static 'website/css/magnific-popup.css'%}">

    <link rel="stylesheet" href="{% static 'website/css/aos.css'%}">

    <link rel="stylesheet" href="{% static 'website/css/ionicons.min.css'%}">

    <link rel="stylesheet" href="{% static 'website/css/bootstrap-datepicker.css'%}">
    <link rel="stylesheet" href="{% static 'website/css/jquery.timepicker.css'%}">


    <link rel="stylesheet" href="{% static 'website/css/flaticon.css'%}">
    <link rel="stylesheet" href="{% static 'website/css/icomoon.css'%}">
    <link rel="stylesheet" href="{% static 'website/css/style.css'%}">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-dark ftco_navbar bg-dark ftco-navbar-light" id="ftco-navbar">
    <div class="container">
        <a class="navbar-brand" href="{% url 'home' %}">Cosmolight <span>Dental_Center</span></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#ftco-nav"
                aria-controls="ftco-nav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="oi oi-menu"></span> Menu
        </button>

        <div class="collapse navbar-collapse" id="ftco-nav">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active"><a href="{% url 'home' %}" class="nav-link">Home</a></li>
                <li class="nav-item"><a href="{% url 'about' %}" class="nav-link">About</a></li>
                <li class="nav-item"><a href="{% url 'services' %}" class="nav-link">Services</a></li>
                <li class="nav-item"><a href="contact.html" class="nav-link">Contact</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown"
                       aria-expanded="false">
                        Reception
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="{% url 'all-reception' %}">Reception Info</a>
                    </div>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="{% url 'all-reception' %}">Reception Info</a>
                    </div>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown"
                       aria-expanded="false">
                        Examination
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="{% url 'exo-reception1' %}">Drags Info</a>
                        <!--<a class="dropdown-item" href="{% url 'drugs' %}">Add Drags</a>-->
                    </div>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown"
                       aria-expanded="false">
                        Oral_Surgery
                    </a>
                    <div class="dropdown-menu">
                        <a class="dropdown-item" href="{% url 'exo-reception' %}">Reception Info</a>
                        <a class="dropdown-item" href="{% url 'all-exo' %}">Exo All Info</a>


                        <!--<a class="dropdown-item" href="{% url 'oral-reception' %}">Oral Surgery Info</a>
                        <a class="dropdown-item" href="{% url 'all-oral-surgery' %}">All Oral Surgery Info</a>
                          <a class="dropdown-item" href="{% url 'orthodontics' %}">orthodontic</a>-->
                    </div>
                </li>
                <!--<li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-expanded="false">
                    Patients
                  </a>
                  <div class="dropdown-menu">
                    <a class="dropdown-item" href="{% url 'appointment1' %}">Patients</a>


                    <a class="dropdown-item" href="{% url 'all-details' %}">All Patient Details</a>
                    <a class="dropdown-item" href="{% url 'all-details' %}">Search Patient Details.</a>


                  </div>
                </li>
                <li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-expanded="false">
                    Appointment
                  </a>
                  <div class="dropdown-menu">
                    <a class="dropdown-item" href="{% url 'appointment1' %}">Appointment</a>

                    <a class="dropdown-item" href="{% url 'all-appo' %}">Appointment Details.</a>
                    <a class="dropdown-item" href="{% url 'all-appo' %}">Search Appointment Details.</a>



                  </div>
                </li>-->
                <li class="nav-item dropdown">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown"
                       aria-expanded="false">Accounts</a>
                    <div class="dropdown-menu">
                        {% if user.is_authenticated %}
                        {% if user.is_admin %}
                        <a class="dropdown-item" href="{% url 'signup' %}">SignOut</a>
                        {% else %}
                        <a class="dropdown-item" href="{% url 'logout' %}">LogOut</a>
                        {% endif %}
                        {% else %}
                        <a class="dropdown-item" href="{% url 'login' %}">Login</a>
                        {% endif %}
                    </div>

            </li>


            </ul>

        </div>

    </div>

</nav>
<!-- END nav -->

{% block body %}

{% endblock %}
{% block content %}
{% endblock %}
<!--
<br/>
    <footer class="ftco-footer ftco-bg-dark ftco-section">
      <div class="container">
        <div class="row mb-5">
          <div class="col-md-3">
            <div class="ftco-footer-widget mb-4">
              <h2 class="ftco-heading-2">Cosmolight Dental_Center.</h2>
              <p>Our Dental Team is Ready to Help You.</p>
            </div>
            <ul class="ftco-footer-social list-unstyled float-md-left float-lft ">
              <li class="ftco-animate"><a href="https://twitter.com/home"><span class="icon-twitter"></span></a></li>
              <li class="ftco-animate"><a href="https://facebook.com/106622855727373"><span class="icon-facebook"></span></a></li>
              <li class="ftco-animate"><a href="https://www.youtube.com/channel/UCx-dDgpEznfvCMMEHoEHm-A"><span class="icon-youtube"></span></a></li>
            </ul>
          </div>

          <div class="col-md-2">
            <div class="ftco-footer-widget mb-4 ml-md-5">
              <h2 class="ftco-heading-2">Quick Links</h2>
              <ul class="list-unstyled">
                <li><a href="{% url 'about' %}" class="py-2 d-block">About</a></li>
                <li><a href="{% url 'services' %}" class="py-2 d-block">Features</a></li>
                <li><a href="{% url 'doctors' %}" class="py-2 d-block">Projects</a></li>
                <li><a href="{% url 'contact' %}" class="py-2 d-block">Contact</a></li>
              </ul>
            </div>
          </div>
          <div class="col-md-3">
            <div class="ftco-footer-widget mb-4 ml-md-5">
              <h2 class="ftco-heading-2">Social Links</h2>
              <ul class="list-unstyled">
                <li><a href="https://twitter.com/home"><span class="icon-twitter"></span> Twitter</a></li>
                <li><a href="https://facebook.com/106622855727373"><span class="icon-facebook"></span>Facebook</a></li>
                <li><a href="https://www.youtube.com/channel/UCx-dDgpEznfvCMMEHoEHm-A"><span
                        class="icon-youtube"></span>Youtube</a></li>
              </ul>
            </div>
          </div>

          <div class="col-md-3">
            <div class="ftco-footer-widget mb-4">
            	<h2 class="ftco-heading-2">Office</h2>
            	<div class="block-23 mb-3">
	              <ul>
	                <li><span class="icon icon-map-marker"></span><span class="text">Mountain View, San Francisco, California, USA</span></li>
	                <li><a href="#"><span class="icon icon-phone"></span><span class="text">750 222 33 66</span></a></li>
	                <li><a href="#"><span class="icon icon-envelope"></span><span class="text">econoarts@econoartstech.com</span></a></li>
	              </ul>
	            </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-12 text-center">

            <p> Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0.
  Copyright &copy;<script>document.write(new Date().getFullYear());</script> All rights reserved <i class="icon-heart" aria-hidden="true"></i> by <a href="https://econoartstech.com" target="_blank">Econoartstech</a>
 Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0.</p>
          </div>
        </div>
      </div>
    </footer>-->


<!-- loader -->
<div id="ftco-loader" class="show fullscreen">
    <svg class="circular" width="48px" height="48px">
        <circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/>
        <circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10"
                stroke="#F96D00"/>
    </svg>
</div>

<!-- Modal -->
<div class="modal fade" id="modalRequest" tabindex="-1" role="dialog" aria-labelledby="modalRequestLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">

                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
            </div>

        </div>
    </div>
</div>


<script src="{% static 'website/js/jquery.min.js' %}"></script>
<script src="{% static 'website/js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'website/js/jquery-migrate-3.0.1.min.js' %}"></script>
<script src="{% static 'website/js/popper.min.js' %}"></script>
<script src="{% static 'website/js/bootstrap.min.js' %}"></script>
<script src="{% static 'website/js/jquery.easing.1.3.js' %}"></script>
<script src="{% static 'website/js/jquery.waypoints.min.js' %}"></script>
<script src="{% static 'website/js/jquery.stellar.min.js' %}"></script>
<script src="{% static 'website/js/owl.carousel.min.js' %}"></script>
<script src="{% static 'website/js/jquery.magnific-popup.min.js' %}"></script>
<script src="{% static 'website/js/aos.js' %}"></script>
<script src="{% static 'website/js/jquery.animateNumber.min.js' %}"></script>
<script src="{% static 'website/js/bootstrap-datepicker.js' %}"></script>
<script src="{% static 'website/js/jquery.timepicker.min.js' %}"></script>
<script src="{% static 'website/js/scrollax.min.js' %}"></script>

<script src="{% static 'website/js/google-map.js' %}"></script>
<script src="{% static 'website/js/main.js' %}"></script>

</body>
</html>
1111111111111111111111111111111111111
def drugs(request, id):
    if request.method == 'POST':
        form = DrugForm(request.POST)
        if form.is_valid():
            drugs = form.save(commit=False)
            drugs.idReception_id = id
            reception = Reception.objects.get(id=id)
            drugs.name = reception.name
            drugs.phone = reception.phone
            drugs.gender = reception.gender
            drugs.date_of_birth = reception.date_of_birth
            # Get the selected Medicine1 instance from the form
            selected_medicine = form.cleaned_data['name_medicine']

            # Get the name of the selected Medicine1 instance
            if selected_medicine:
                drugs.name_medicine = selected_medicine.name_medicine  # Set the name directly

            # Save the Drug object to the database
            drugs.save()
            return redirect('drugs', id=id)
    else:
        reception = get_object_or_404(Reception, id=id)
        initial_data = {
            'idReception': id,
            'name': reception.name,
            'phone': reception.phone,
            'gender': reception.gender,
            'date_of_birth': reception.date_of_birth
        }
        form = DrugForm(initial=initial_data)

    appointments = Reception.objects.all().order_by('-id')
    try:
        medicine = Drug.objects.filter(idReception=id).first()
    except Drug.DoesNotExist:
        medicine = None
    return render(request, 'drugs/drugs.html',{'form': form, 'appointments': appointments, 'medicine': medicine, 'id': id})
    222222222222222222222222222222222222222 views.py for durgs
    {% extends 'base.html'  %}
{% load static %}
{% load widget_tweaks %}

{% block title %} Contact Page{% endblock %}

{% block content %}
<script type="text/javascript">
function addRows(){
	var table = document.getElementById('emptbl');
	var rowCount = table.rows.length;
	var cellCount = table.rows[0].cells.length;
	var row = table.insertRow(rowCount);
	for(var i =0; i <= cellCount; i++){
		var cell = 'cell'+i;
		cell = row.insertCell(i);
		var copycel = document.getElementById('col'+i).innerHTML;
		cell.innerHTML=copycel;
		if(i == 3){
			var radioinput = document.getElementById('col3').getElementsByTagName('input');
			for(var j = 0; j <= radioinput.length; j++) {
				if(radioinput[j].type == 'radio') {
					var rownum = rowCount;
					radioinput[j].name = 'gender['+rownum+']';
				}
			}
		}
	}
}
function deleteRows(){
	var table = document.getElementById('emptbl');
	var rowCount = table.rows.length;
	if(rowCount > '2'){
		var row = table.deleteRow(rowCount-1);
		rowCount--;
	}
	else{
		alert('There should be atleast one row');
	}
}

</script>
<br/>

<br/>
<div class="container">
    <div class="col-12">
        <table class="table table-hover">
            <thead style="background-color:#73ccf0; color:#fff;">
            <tr>

                <th scope="col">#</th>
                <th scope="col">Full Name</th>
                <th scope="col">Phone Number</th>
                <th scope="col">Gender</th>
                <th scope="col">Date of Birth</th>
                <th scope="col">Drugs Name</th>
                <th scope="col">Type</th>
                <th scope="col">Doze</th>
                <th scope="col">Times</th>
                <th scope="col">Other</th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td scope="row">{{ form.initial.idReception }}</td>
                <td scope="row">{{ form.initial.name }}</td>
                <td scope="row">{{ form.initial.phone }}</td>
                <td scope="row">{{ form.initial.gender }}</td>
                <td scope="row">{{ form.initial.date_of_birth }}</td>
                <td scope="row" align="center">{{medicine.name_medicine}}</td>
                <td scope="row" align="center">{{medicine.type}}</td>
                <td scope="row" align="center">{{medicine.doze}}</td>
                <td scope="row" align="center">{{medicine.times}}</td>
                <td>{% if medicine %}
                    <a href="{% url 'print-drugs' medicine.id %}" style="display: inline;" class="btn btn-outline-info">Print
                        Drags</a>
                    {% endif %}
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<div class="container" align="center" id="form-container">

    <form method="POST" novalidate enctype="multipart/form-data" class="form-inline" id="product_form">
        {% csrf_token %}
        <input type="hidden" name="idReception"
               value="{{ form.initial.idReception }}"
               class="form-control">
        <input type="hidden" name="name" value="{{ form.initial.name }}"
               class="form-control">
        <input type="hidden" name="phone" value="{{ form.initial.phone }}"
               class="form-control">
        <input type="hidden" name="gender" value="{{ form.initial.gender }}"
               class="form-control">
        <input type="hidden" name="date_of_birth"
               value="{{ form.initial.date_of_birth }}"
               class="form-control">
        <div class="row">
            <div class="col-12">
                <table id="emptbl">
                    <tr>
                        <th>Select Medicine</th>
                        <th>Select Type</th>
                        <th>Doze</th>
                        <th>times</th>
                    </tr>
                    <tr>
                        <td id="col0"><select name="name_medicine" class="form-select">
                            <option selected disabled>Select Medicine</option>
                            {% for choice in form.name_medicine.field.queryset %}
                            <option value="{{ choice.pk }}">{{ choice.name_medicine }}</option>
                            {% endfor %}
                        </select></td>
                        <td id="col1"><select class="form-select" name="type">
                            <option selected disabled>Select Type</option>
                            <option value="mg">mg</option>
                            <option value="g">g</option>
                        </select></td>
                        <td id="col2"><input type="text" class="form-select" name="doze" placeholder="Doze"></td>

                        <td id="col3"><select class="form-select" name="times">
                            <option selected disabled>Select Times</option>
                            <option value="1*1">1*1</option>
                            <option value="1*2">1*2</option>
                            <option value="1*3">1*3</option>
                            <option value="1*4">1*4</option>
                            <option value="1*5">1*5</option>
                            <option value="1*6">1*6</option>
                        </select></td>
                    </tr>
                </table>
                <br/>


                <table>
                    <tr>
                        <td><input type="button" value="Add Row" onclick="addRows()"/></td>
                        <td><input type="button" value="Delete Row" onclick="deleteRows()"/></td>
                        <td><input type="submit" value="Submit"/></td>
                    </tr>
                </table>
            </div>
        </div>
    </form>
</div>
{% endblock %}
222222222222222222222222222222222222222222222222222 Drugs.html
<div class="container" align="center" id="form-container">

    <form method="POST" novalidate enctype="multipart/form-data" class="form-inline" id="product_form">
        {% csrf_token %}
        <input type="hidden" name="idReception"
               value="{{ form.initial.idReception }}"
               class="form-control">
        <input type="hidden" name="name" value="{{ form.initial.name }}"
               class="form-control">
        <input type="hidden" name="phone" value="{{ form.initial.phone }}"
               class="form-control">
        <input type="hidden" name="gender" value="{{ form.initial.gender }}"
               class="form-control">
        <input type="hidden" name="date_of_birth"
               value="{{ form.initial.date_of_birth }}"
               class="form-control">
        <div class="row">
            <div class="col-12">
                 <div class="form-row">
                     <div class="col"><select name="{{ form.name_medicine.name }}" class="form-select">
                            <option selected disabled>Select Medicine</option>
                            {% for choice in form.name_medicine.field.queryset %}
                            <option value="{{ choice.pk }}">{{ choice.name_medicine }}</option>
                            {% endfor %}
                        </select></div>
                     <div class="col"> {{ form.type }}</div>
                     <div class="col">{{ form.doze }}</div>
                     <div class="col">{{ form.times }}</div>
                 </div>
            </div>
                {{ formset.management_form }}
                {% for form in formset %}
                    <div class="col-12">
                        <div class="form-row">
                             <div class="col"><select name="{{ form.name_medicine.name }}" class="form-select">
                            <option selected disabled>Select Medicine</option>
                            {% for choice in form.name_medicine.field.queryset %}
                            <option value="{{ choice.pk }}">{{ choice.name_medicine }}</option>
                            {% endfor %}
                        </select></div>
                            <div class="col">{{ form.type }}</div>
                            <div class="col">{{ form.doze }}</div>
                            <div class="col">{{ form.times }}</div>
                        </div>
                    </div>
                {% endfor %}
           <button type="submit" class="btn btn-primary">Add Drugs</button>
        </div>
    </form>
</div>
1111111111111111111111111111111111111
                  <h1>Search Results for "{{ query }}"</h1>
                        {% for model_name, results in search_results %}
                        <h2>{{ model_name }} Results</h2>

                        <table class="table table-hover">
                            <thead style="background-color:#73ccf0; color:#fff;">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Full Name</th>
                                <th scope="col">Phone Number</th>
                                <th scope="col">Gender</th>
                                <th scope="col">Date of Birth</th>
                                <th scope="col">Upper Right</th>
                                <th scope="col">Upper Left</th>
                                <th scope="col">Lower Right</th>
                                <th scope="col">Lower Left</th>
                                <th scope="col">No of Prepare Teeth</th>
                                <th scope="col">Price</th>
                                <th scope="col">Total Price</th>
                                <th scope="col">Notes</th>
                                <th scope="col">Exo by Surgery</th>
                                <th scope="col">Simple Exo</th>
                                <th scope="col">Complicated</th>
                                <th scope="col">Exo Photo</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for result in results %}
                            {% if model_name == 'Exo' %}
                            <tr>
                                <td text-align="center" scope="row">{{ result.idReception }}</td>
                                <td text-align="center" scope="row">{{ result.name }}</td>
                                <td text-align="center" scope="row">{{ result.phone }}</td>
                                <td text-align="center" scope="row">{{ result.gender }}</td>
                                <td text-align="center" scope="row">{{ result.date_of_birth }}</td>
                                <td text-align="center" scope="row">{{result.ur|slice:"1:-1" }}</td>
                                <td text-align="center" scope="row">{{result.ul|slice:"1:-1"}}</td>
                                <td text-align="center" scope="row">{{result.lr|slice:"1:-1"}}</td>
                                <td text-align="center" scope="row">{{result.ll|slice:"1:-1"}}</td>
                                <td text-align="center" scope="row">{{result.no_prepare}}</td>
                                <td text-align="center" scope="row">{{result.price}}</td>
                                <td text-align="center" scope="row">{{result.total_price}}</td>
                                <td text-align="center" scope="row">{{result.note}}</td>
                                <td text-align="center" scope="row">{{result.exoby|slice:"1:-1"}}</td>
                                <td text-align="center" scope="row">{{result.simpleexo|slice:"1:-1"}}</td>
                                <td text-align="center" scope="row">{{result.complcated |slice:"1:-1"}}</td>
                            </tr>
                            {% endif %}
                            {% endfor %}
                            </tbody>
                        </table>
                        <br/>
                        <h2>{{ model_name }} Results</h2>
                        <table class="table table-hover">
                            <thead style="background-color:#73ccf0; color:#fff;">
                            <tr>

                                <th scope="col">#</th>
                                <th scope="col">Full Name</th>
                                <th scope="col">Phone Number</th>
                                <th scope="col">Gender</th>
                                <th scope="col">Date of Birth</th>
                                <th scope="col">Shade</th>
                                <th scope="col">No of Unite</th>
                                <th scope="col">Color</th>
                                <th scope="col">No of Pre.Unite</th>
                                <th scope="col">Price</th>
                                <th scope="col">Total Price</th>
                                <th scope="col">Notes</th>
                                <th scope="col">Crown Photo</th>
                                <th scope="col" colspan="2" style="text-align:center;">Other</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for result in results %}
                            {% if model_name == 'Crown' %}
                            <tr>
                                <td text-align="center" scope="row">{{ result.idReception }}</td>
                                <td text-align="center" scope="row">{{ result.name }}</td>
                                <td text-align="center" scope="row">{{ result.phone }}</td>
                                <td text-align="center" scope="row">{{ result.gender }}</td>
                                <td text-align="center" scope="row">{{ result.date_of_birth }}</td>
                                <td text-align="center" scope="row" align="center">{{result.shade}}</td>
                                <td text-align="center" scope="row" align="center">{{result.no_unite}}</td>
                                <td text-align="center" scope="row" align="center">{{result.color}}</td>
                                <td text-align="center" scope="row" align="center">{{result.no_prepare}}</td>
                                <td text-align="center" scope="row" align="center">{{result.price}}</td>
                                <td text-align="center" scope="row" align="center"> {{result.total_price }}</td>
                                <td text-align="center" scope="row" align="center">{{result.note}}</td>

                                <td>{% for photo in photos %}
                                    <img src="{{ photo.image.url }}" alt="Photo" width="100">
                                    <a href="{% url 'remove_photo_crown' photo.id %}">Remove</a>
                                    {% endfor %}
                                </td>
                            </tr>
                            {% endif %}
                            {% endfor %}
                            </tbody>
                        </table>
                        <br/>
                        <h2>{{ model_name }} Results</h2>
                        <table class="table table-hover">
                            <thead style="background-color:#73ccf0; color:#fff;">
                            <tr>

                                <th scope="col">#</th>
                                <th scope="col">Full Name</th>
                                <th scope="col">Phone Number</th>
                                <th scope="col">Gender</th>
                                <th scope="col">Date of Birth</th>
                                <th scope="col">Filling Type</th>
                                <th scope="col">Filling Place</th>
                                <th scope="col">Upper Right</th>
                                <th scope="col">Upper Left</th>
                                <th scope="col">Lower Right</th>
                                <th scope="col">Lower Left</th>
                                <th scope="col">No of Pre.Unite</th>
                                <th scope="col">Price</th>
                                <th scope="col">Total Price</th>
                                <th scope="col">Notes</th>
                                <th scope="col">Exo Photo</th>
                                <th scope="col" colspan="2">Other</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for result in results %}
                            {% if model_name == 'Filling' %}
                            <tr>
                                <td scope="row">{{ result.idReception }}</td>
                                <td scope="row">{{ result.name }}</td>
                                <td scope="row">{{ result.phone }}</td>
                                <td scope="row">{{ result.gender }}</td>
                                <td scope="row">{{ result.date_of_birth }}</td>
                                <td scope="row">{{result.filling_type}}</td>
                                <td scope="row">{{result.filling_place|slice:"1:-1"}}</td>
                                <td scope="row">{{result.ur|slice:"1:-1" }}</td>
                                <td scope="row">{{result.ul|slice:"1:-1"}}</td>
                                <td scope="row">{{result.lr|slice:"1:-1"}}</td>
                                <td scope="row">{{result.ll|slice:"1:-1"}}</td>
                                <td scope="row">{{result.no_prepare}}</td>
                                <td scope="row">{{result.price}}</td>
                                <td scope="row">{{result.total_price}}</td>
                                <td scope="row">{{result.note}}</td>
                                <td>{% for photo in photos %}
                                    <img src="{{ photo.image.url }}" alt="Photo" width="100">
                                    <a href="{% url 'remove_photo_filling' photo.id %}">Remove</a>
                                    {% endfor %}
                                </td>
                            </tr>
                            {% endif %}
                            {% endfor %}
                            </tbody>
                        </table>
                        <br/>
                        <h2>{{ model_name }} Results</h2>
                        <table class="table table-hover">
                            <thead style="background-color:#73ccf0; color:#fff;">
                            <tr>

                                <th scope="col">#</th>
                                <th scope="col">Full Name</th>
                                <th scope="col">Phone Number</th>
                                <th scope="col">Gender</th>
                                <th scope="col">Date of Birth</th>
                                <th scope="col">Shade</th>
                                <th scope="col">No of Unite</th>
                                <th scope="col">Color</th>
                                <th scope="col">No of Pre.Unite</th>
                                <th scope="col">Price</th>
                                <th scope="col">Total Price</th>
                                <th scope="col">Notes</th>
                                <th scope="col">Crown Photo</th>
                                <th scope="col" colspan="2">Other</th>
                            </tr>
                            </thead>
                            <tbody>
                            {% for result in results %}
                            {% if model_name == 'Veneer' %}
                            <tr>
                                <td text-align="center" scope="row">{{ result.idReception }}</td>
                                <td text-align="center" scope="row">{{ result.name }}</td>
                                <td text-align="center" scope="row">{{ result.phone }}</td>
                                <td text-align="center" scope="row">{{ result.gender }}</td>
                                <td text-align="center" scope="row">{{ result.date_of_birth }}</td>
                                <td text-align="center" scope="row" align="center">{{result.shade}}</td>
                                <td text-align="center" scope="row" align="center">{{result.no_unite}}</td>
                                <td text-align="center" scope="row" align="center">{{result.color}}</td>
                                <td text-align="center" scope="row" align="center">{{result.no_prepare}}</td>
                                <td text-align="center" scope="row" align="center">{{result.price}}</td>
                                <td text-align="center" scope="row" align="center"> {{ result.total_price }}</td>
                                <td text-align="center" scope="row" align="center">{{result.note}}</td>

                                <td>{% for photo in photos %}
                                    <img src="{{ photo.image.url }}" alt="Photo" width="100">
                                    <a href="{% url 'remove_photo_veneer' photo.id %}">Remove</a>
                                    {% endfor %}
                                </td>
                            </tr>
                            {% endif %}
                            {% endfor %}
                            </tbody>
                        </table>
                        {% endfor %}

  3333333333333333333333333333333333333333333333333333333333333333333333
  FORM
  class OralSurgeryForm(forms.ModelForm):
    class Meta:
        model = OralSurgery
        fields = ('idReception','tooth', 'RX', 'material_type', 'thickness_rich', 'size', 'size_direction', 'size_number', 'second_visit', 'third_visit', 'fourth_visit', 'fifth_visit')
        labels = {
            'idReception': '',
            'tooth': '',
            'RX': '',
            'material_type': '',
            'thickness_rich': '',
            'size': '',
            'size_direction': '',
            'size_number': '',
            'second_visit': '',
            'third_visit': '',
            'fourth_visit': '',
            'fifth_visit': '',

        }
        widgets = {
            'idReception': forms.Select(attrs={'class': 'form-control'}),
            'tooth': forms.CheckboxSelectMultiple(attrs={'class': 'form-control', 'placeholder': 'Tooth Extraction'}),
            'RX': forms.CheckboxSelectMultiple(attrs={'class': 'form-control', 'placeholder': 'size'}),
            'material_type': forms.RadioSelect(attrs={'class': 'form-control', 'placeholder': 'material_type'}),
            'thickness_rich': forms.RadioSelect(attrs={'class': 'form-control', 'placeholder': 'thickness_rich'}),
            'size': forms.CheckboxSelectMultiple(attrs={'class': 'form-control', 'placeholder': 'size'}),
            'size_direction': forms.CheckboxSelectMultiple(attrs={'class': 'form-control', 'placeholder': 'size_direction'}),
            'size_number': forms.CheckboxSelectMultiple(attrs={'class': 'form-control', 'placeholder': 'size_number'}),
            'second_visit': forms.CheckboxSelectMultiple(attrs={'class': 'form-check-input', 'placeholder': 'second_visit'}),
            'third_visit': forms.CheckboxSelectMultiple(attrs={'class': 'form-control', 'placeholder': 'third_visit'}),
            'fourth_visit': forms.CheckboxSelectMultiple(attrs={'class': 'form-control', 'placeholder': 'fourth_visit'}),
            'fifth_visit': forms.CheckboxSelectMultiple(attrs={'class': 'form-control', 'placeholder': 'fifth_visit'}),
        }

33333333333

views:
def add_oral_surgery(request, id):
    if request.method == 'POST':
        form = OralSurgeryForm(request.POST)
        if form.is_valid():
            oral_surgery = form.save(commit=False)
            oral_surgery.idReception_id = id  # Set the foreign key to the specified 'id'
            oral_surgery.save()
            return redirect('all-oral-surgery')
    else:
        form = OralSurgeryForm(initial={'idReception': id})  # Prepopulate the form with 'id' value
    receptions = Reception.objects.all().order_by('-id')
    return render(request, 'index.html', {'form': form, 'receptions': receptions, 'id': id})
  33333333333333333333333333333
index.html
<section class="ftco-section contact-section ftco-degree-bg">
    <div class="container">
        <div class="row d-flex mb-5 contact-info">
            <div class="col-md-12 mb-4">
                <h2 class="text-center alert alert-info">Oral - Surgery </h2>

                <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/1.6.3/jquery.min.js"></script>

                <h5>Oral - Surgery Information </h5>
<script>
        $(document).ready(function()
        {
           $('.form-check-input').click(function()
           {
              var text="";
              $('.form-check-input:checked').each(function()
              {
                 text+=$(this).val()+',';
              });
              $('.chktext').val(text);

           });
           $('#but1').click(function()
           {
              alert("Record saved successfully")
           });
        });
                </script>

                <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
                <script type="text/javascript">

function show1(){
  document.getElementById('div1').style.display ='none';
  document.getElementById('div2').style.display = 'block';
}
function show2(){
  document.getElementById('div1').style.display = 'block';
  document.getElementById('div2').style.display ='none';
}




                </script>

                {%if user.is_authenticated%}
                <p>{{form.initial.idReception.name}}</p>
                <form action="" novalidate class="row row-cols-lg-auto g-3 align-items-center" method="POST">
                    {% csrf_token %}

                    <div class="col-12">
                        <div class="alert alert-secondary" role="alert">
                            <div class="form-check">
                                <input type="text" name="idReception" value="{{ form.initial.idReception }}" class="form-control">
                                <label class="form-check-label" style="font-size: 22px;">Tooth Extraction</label>
                                <input type="radio" value="Yes" name="tooth" onclick="show2();">
                                <label class="form-check-label">Yes</label>
                                <input type="radio" value="No" name="tooth" onclick="show1();">
                                <label class="form-check-label">No</label>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <div id="div1" class="hide" style="display: none;">
                            <div class="alert alert-secondary" role="alert">
                                    <div class="card-header" align="left">
                                        <a href="{% url 'drugs' id=id %}"
                                           class="btn btn-outline-info d-flex align-items-left">&nbsp;&nbsp;&nbsp;
                                            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add Drugs</a>
                                    </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-12">
                        <div id="div2" class="hide" style="display: none;">
                            <div class="alert alert-secondary" id="dd" role="alert"
                                 style="font-size: 23px; text-align: left; padding-top: 10px;  padding-bottom: 10px;">
                                First
                                Visit
                                <div class="alert alert-secondary" role="alert">
                                    <div class="col-12">
                                        <div class="form-check form-check-inline">
                                            <label class="form-check-label" style="font-size: 22px;">Meterial
                                                Type</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                            <div class="form-check form-check-inline">
                                                <input type="radio" class="form-check-input" name="material_type"
                                                       value="Platin">
                                                <label class="form-check-label">Platin</label>
                                            </div>
                                            <div class="form-check form-check-inline">
                                                <input type="radio" class="form-check-input" name="material_type"
                                                       value="Titanium">
                                                <label class="form-check-label">Titanium</label>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="alert alert-secondary" role="alert">

                                        <label class="form-check-label" style="font-size: 22px;">Thickness Of
                                            Rich</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                                        <div class="form-check form-check-inline">
                                            <input type="radio" class="form-check-input" name="thickness_rich"
                                                   value="Thin">
                                            <label class="form-check-label">Thin</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="radio" class="form-check-input" name="thickness_rich"
                                                   value="Thick">
                                            <label class="form-check-label">Thick</label>
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12">
                                    <div class="alert alert-secondary" role="alert">
                                        <label class="form-check-label" style="font-size: 22px;">Size of Implant</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size" value="3*10">
                                            <label class="form-check-label">3*10</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size" value="4*10">
                                            <label class="form-check-label">4*10</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size" value="3.5*10">
                                            <label class="form-check-label">3.5*10</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size" value="4.5*10">
                                            <label class="form-check-label">4.5*10</label>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="alert alert-secondary" role="alert">
                                        <label class="form-check-label" style="font-size: 22px;">Direction</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_direction"
                                                   value="Left">
                                            <label class="form-check-label">Left</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_direction"
                                                   value="Right">
                                            <label class="form-check-label">Right</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_direction"
                                                   value="Upper">
                                            <label class="form-check-label">Upper</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_direction"
                                                   value="Lower">
                                            <label class="form-check-label">Lower</label>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-12">
                                    <div class="alert alert-secondary" role="alert">
                                        <label class="form-check-label" style="font-size: 22px;">Tooth Number</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_number"
                                                   value="1">
                                            <label class="form-check-label">1</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_number"
                                                   value="2">
                                            <label class="form-check-label">2</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_number"
                                                   value="3">
                                            <label class="form-check-label">3</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_number"
                                                   value="4">
                                            <label class="form-check-label">4</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_number"
                                                   value="5">
                                            <label class="form-check-label">5</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_number"
                                                   value="6">
                                            <label class="form-check-label">6</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_number"
                                                   value="7">
                                            <label class="form-check-label">7</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="size_number"
                                                   value="8">
                                            <label class="form-check-label">8</label>
                                        </div>

                                    </div>
                                </div>
                                <div class="col-12">

                                    <div class="alert alert-secondary" role="alert">
                                        <label class="form-check-label" style="font-size: 22px;">RX</label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;

                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="RX" value="Panadol">
                                            <label class="form-check-label">Panadol</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="RX" value="AUG">
                                            <label class="form-check-label">AUG</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="RX" value="AUG1">
                                            <label class="form-check-label">AUG1</label>
                                        </div>
                                        <div class="form-check form-check-inline">
                                            <input type="checkbox" class="form-check-input" name="RX" value="AUG2">
                                            <label class="form-check-label">AUG2</label>
                                        </div>

                                    </div>
                                </div>



                            </div>

                        </div>

                    </div>
                    <div class="col-12">
                        <div class="alert alert-secondary" role="alert" align="center">
                            <input type="submit" id="but1" value="Apply Oral Surgery" class="btn btn-info">
                        </div>
                    </div>
                </form>
                {% endif %}
            </div>
        </div>
    </div>
</section>
88888888888888888888888888888888888888
{% extends 'base.html'  %}
{% load static %}
{% block content %}
<br/>
<nav class="navbar navbar-light bg-light">
    <a class="navbar-brand"></a>
    {%if user.is_authenticated%}
    <form method="get" action="{% url 'search' %}">
        <input type="text" name="query" value="{{ query }}">
        <button type="submit">Search</button>
    </form>
    {% endif %}
</nav>
<h1>Search Results for "{{ query }}"</h1>

<table class="table table-hover">
    <thead style="background-color:#73ccf0; color:#fff;">
    <tr>
        <th scope="col">#</th>
        <th scope="col">Full Name</th>
        <th scope="col">Phone Number</th>
        <th scope="col">Gender</th>
        <th scope="col">Date of Birth</th>
        <th scope="col">Upper Right</th>
        <th scope="col">Upper Left</th>
        <th scope="col">Lower Right</th>
        <th scope="col">Lower Left</th>
        <th scope="col">No of Prepare Teeth</th>
        <th scope="col">Price</th>
        <th scope="col">Total Price</th>
        <th scope="col">Notes</th>
        <th scope="col">Exo by Surgery</th>
        <th scope="col">Simple Exo</th>
        <th scope="col">Complicated</th>
    </tr>
    </thead>
    <tbody>
    {% if results %}
    {% for model_name, results in search_results %}
    {% if model_name == 'Exo' %}
    <h2>{{ model_name }} Results</h2>
    {% for result in results %}
    <tr>
        <td text-align="center" scope="row">{{ result.id }}</td>
        <td text-align="center" scope="row">{{ result.name }}</td>
        <td text-align="center" scope="row">{{ result.phone }}</td>
        <td text-align="center" scope="row">{{ result.gender }}</td>
        <td text-align="center" scope="row">{{ result.date_of_birth }}</td>
        <td text-align="center" scope="row">{{result.ur|slice:"1:-1" }}</td>
        <td text-align="center" scope="row">{{result.ul|slice:"1:-1"}}</td>
        <td text-align="center" scope="row">{{result.lr|slice:"1:-1"}}</td>
        <td text-align="center" scope="row">{{result.ll|slice:"1:-1"}}</td>
        <td text-align="center" scope="row">{{result.no_prepare}}</td>
        <td text-align="center" scope="row">{{result.price}}</td>
        <td text-align="center" scope="row">{{result.total_price}}</td>
        <td text-align="center" scope="row">{{result.note}}</td>
        <td text-align="center" scope="row">{{result.exoby|slice:"1:-1"}}</td>
        <td text-align="center" scope="row">{{result.simpleexo|slice:"1:-1"}}</td>
        <td text-align="center" scope="row">{{result.complcated |slice:"1:-1"}}</td>
    </tr>
    {% endfor %}
    {% else %}
    <h1>No {{ model_name }} results found.</h1>
    {% endif %}
    {% endfor %}
    {% endif %}
    </tbody>
</table>
<br/>
<table class="table table-hover">
    <thead style="background-color:#73ccf0; color:#fff;">
    <tr>
        <th scope="col">#</th>
        <th scope="col">Full Name</th>
        <th scope="col">Phone Number</th>
        <th scope="col">Gender</th>
        <th scope="col">Date of Birth</th>
        <th scope="col">Shade</th>
        <th scope="col">No of Unite</th>
        <th scope="col">Color</th>
        <th scope="col">No of Pre.Unite</th>
        <th scope="col">Price</th>
        <th scope="col">Total Price</th>
        <th scope="col">Notes</th>
    </tr>
    </thead>
    <tbody>
    {% for model_name, results in search_results %}
    {% for result in results %}
    {% if model_name == 'Crown' %}
    <h2>{{ model_name }} Results</h2>
    <tr>
        <td scope="row">{{ result.id }}</td>
        <td text-align="center" scope="row">{{ result.name }}</td>
        <td text-align="center" scope="row">{{ result.phone }}</td>
        <td text-align="center" scope="row">{{ result.gender }}</td>
        <td text-align="center" scope="row">{{ result.date_of_birth }}</td>
        <td text-align="center" scope="row" align="center">{{result.shade}}</td>
        <td text-align="center" scope="row" align="center">{{result.no_unite}}</td>
        <td text-align="center" scope="row" align="center">{{result.color}}</td>
        <td text-align="center" scope="row" align="center">{{result.no_prepare}}</td>
        <td text-align="center" scope="row" align="center">{{result.price}}</td>
        <td text-align="center" scope="row" align="center"> {{result.total_price }}</td>
        <td text-align="center" scope="row" align="center">{{result.note}}</td>

    </tr>
    {% endif %}
    {% endfor %}
    {% endfor %}
    </tbody>
</table>
<br/>
<table class="table table-hover">
    <thead style="background-color:#73ccf0; color:#fff;">
    <tr>

        <th scope="col">#</th>
        <th scope="col">Full Name</th>
        <th scope="col">Phone Number</th>
        <th scope="col">Gender</th>
        <th scope="col">Date of Birth</th>
        <th scope="col">Filling Type</th>
        <th scope="col">Filling Place</th>
        <th scope="col">Upper Right</th>
        <th scope="col">Upper Left</th>
        <th scope="col">Lower Right</th>
        <th scope="col">Lower Left</th>
        <th scope="col">No of Pre.Unite</th>
        <th scope="col">Price</th>
        <th scope="col">Total Price</th>
        <th scope="col">Notes</th>
    </tr>
    </thead>
    <tbody>
    {% for model_name, results in search_results %}
    {% for result in results %}
    {% if model_name == 'Filling' %}
    <h2>{{ model_name }} Results</h2>
    <tr>
        <td scope="row">{{ result.id }}</td>
        <td scope="row">{{ result.name }}</td>
        <td scope="row">{{ result.phone }}</td>
        <td scope="row">{{ result.gender }}</td>
        <td scope="row">{{ result.date_of_birth }}</td>
        <td scope="row">{{result.filling_type}}</td>
        <td scope="row">{{result.filling_place|slice:"1:-1"}}</td>
        <td scope="row">{{result.ur|slice:"1:-1" }}</td>
        <td scope="row">{{result.ul|slice:"1:-1"}}</td>
        <td scope="row">{{result.lr|slice:"1:-1"}}</td>
        <td scope="row">{{result.ll|slice:"1:-1"}}</td>
        <td scope="row">{{result.no_prepare}}</td>
        <td scope="row">{{result.price}}</td>
        <td scope="row">{{result.total_price}}</td>
        <td scope="row">{{result.note}}</td>
    </tr>
    {% endif %}
    {% endfor %}
    {% endfor %}
    </tbody>
</table>
<br/>
<table class="table table-hover">
    <thead style="background-color:#73ccf0; color:#fff;">
    <tr>

        <th scope="col">#</th>
        <th scope="col">Full Name</th>
        <th scope="col">Phone Number</th>
        <th scope="col">Gender</th>
        <th scope="col">Date of Birth</th>
        <th scope="col">Shade</th>
        <th scope="col">No of Unite</th>
        <th scope="col">Color</th>
        <th scope="col">No of Pre.Unite</th>
        <th scope="col">Price</th>
        <th scope="col">Total Price</th>
        <th scope="col">Notes</th>
    </tr>
    </thead>
    <tbody>
    {% for model_name, results in search_results %}
    {% for result in results %}
    {% if model_name == 'Veneer' %}
    <h2>{{ model_name }} Results</h2>
    <tr>
        <td text-align="center" scope="row">{{ result.id}}</td>
        <td text-align="center" scope="row">{{ result.name }}</td>
        <td text-align="center" scope="row">{{ result.phone }}</td>
        <td text-align="center" scope="row">{{ result.gender }}</td>
        <td text-align="center" scope="row">{{ result.date_of_birth }}</td>
        <td text-align="center" scope="row" align="center">{{result.shade}}</td>
        <td text-align="center" scope="row" align="center">{{result.no_unite}}</td>
        <td text-align="center" scope="row" align="center">{{result.color}}</td>
        <td text-align="center" scope="row" align="center">{{result.no_prepare}}</td>
        <td text-align="center" scope="row" align="center">{{result.price}}</td>
        <td text-align="center" scope="row" align="center"> {{ result.total_price }}</td>
        <td text-align="center" scope="row" align="center">{{result.note}}</td>
    </tr>
    {% endif %}
    {% endfor %}
    {% endfor %}
    </tbody>
</table>


{% endblock %}

#path('all_salary/', views.all_salary, name='salary-submission'),
#def all_salary(request):
    #appointments = Salary.objects.all().order_by('-id')
    #return render(request, 'employs/salary_submission.html', {'appointments': appointments})
    <table class="table table-hover">
            <thead style="background-color:#73ccf0; color:#fff;">
            <tr>
                <th scope="col">#</th>
                <th scope="col">#</th>
                <th scope="col">Employ Name</th>
                <th scope="col"> salaryPaid</th>
                <th scope="col">days</th>
                <th scope="col">finalSalary</th>
                <th scope="col">Month</th>
            </tr>
            </thead>
            <tbody>
            {% for appointment in appointments %}
            <tr>
                <td scope="row">{{appointment.id}}</td>
                <td scope="row">{{appointment.idBasicInfo_id}}</td>
                <td scope="row">{{appointment.fullname}}</td>
                <td scope="row">{{appointment.salaryPaid}}</td>
                <td scope="row">{{appointment.days}}</td>
                <td scope="row">{{appointment.finalSalary}}</td>
                <td scope="row">{{appointment.month}}</td>

            </tr>
            {% endfor %}
            </tbody>
        </table>



def oral_visit(request, id):
    pi = OralSurgery.objects.get(id=id)
    photos = Photo.objects.filter(oral_surgery_instance=pi)  # Fetch photos associated with the oral surgery instance
    orall = None  # Initialize orall to None
    if request.method == 'POST':
        form = OralSurgeryForm(request.POST, instance=pi)
        if form.is_valid():
            # Calculate total_price
            no_unite = form.cleaned_data['no_unite']
            price = form.cleaned_data['price']
            total_price = no_unite * price

            form.instance.total_price = total_price  # Set the 'total_price' field of the form instance
            form.save()

            # Update the associated photos
            photos = request.FILES.getlist('exo_images')
            for photo in photos:
                Photo.objects.create(oral_surgery_instance=pi, image=photo)

            return redirect('add-oral-surgery', id=pi.idReception_id)
    else:
        form = OralSurgeryForm(instance=pi)
        try:
            orall = OralSurgery.objects.get(idReception=id)
            photos = orall.photo_set.all()
            # Sanitize field values in the instance
            if orall.ur:
                orall.ur = orall.ur.replace("'", "")
            if orall.ul:
                orall.ul = orall.ul.replace("'", "")
            if orall.lr:
                orall.lr = orall.lr.replace("'", "")
            if orall.ll:
                orall.ll = orall.ll.replace("'", "")
        except OralSurgery.DoesNotExist:
            orall = None
            photos = None

    return render(request, 'oral_visit.html', {'form': form, 'pi': pi, 'orall': orall,'photos': photos})


<td style="text-align: center;" > {% if result.total_price == result.paid %}
            <a href="{% url 'print_endo_debt'  result.idReception_id  %}" style="display: inline;"
               class="btn btn-outline-info">Print
                Invoice</a>

            {% endif %}\






{% load static %}

{% block content %}
<br/>

<div class="container body">
    <div class="right_col" role="main" style="width: 100%">
<p align="center"
   style="font-size:16px; color:#900; font-weight:bold; background-image: url({% static 'website/images/bb.jpg'  %}); background-repeat:no-repeat;">

    <br/>COSMOLIGHT DENTAL CENTER<!--<br/>        <br/>   
    <br/>B.D.S/M.SC.Ortho</br>    </p>-->
<hr class="border border-primary border-3 opacity-40">
        <p style="text-align: center;" ><img src="{% static 'website/images/img.jpg'  %}"
                                             alt="..." class="img-circle profile_img"></p>
        <br/>
        <h4 style="font-weight:bold;">https://cosmolightgroup.org</h4>
        <hr class="border border-primary border-3 opacity-40">
<div class="col-8">
    <div class="card-body">

        {% for drug in drugs %}
         <h3><p style="font-size:16px;">Username&nbsp;- &nbsp;{{ drug.user.username }}</p></h3>
        <h3><p style="font-size:16px;">Password&nbsp;- &nbsp;{{ drug.user.custom_password }}</p></h3>

        <h3><p style="font-size:16px;">Patient Name:&nbsp;- &nbsp;{{ drug.name }}</p></h3>
        <h3><p style="font-size:16px;">Patient Phone Number:&nbsp;- &nbsp;{{ drug.phone }}</p></h3>
        <h3><p style="font-size:16px;">Doctor Name:&nbsp;- &nbsp;{{ drug.doctor }}</p></h3>
        <h3><p style="font-size:16px;">Appointment Date:&nbsp;- &nbsp;{{ drug.app_data }}</p></h3>
        <h3><p style="font-size:16px;">{{ drug.days }} &nbsp;- &nbsp;{{ drug.time|slice:"1:-1" }}</p></h3>



        {% endfor %}
    </div>
</div>

<!--
<footer id="footer">
    <hr class="border border-primary border-3 opacity-40">
    <h4 style="display:inline; font-size:14px" align="left"> - /      0750&nbsp;555&nbsp;5555&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </h4>
</footer>-->
    </div>
</div>

{% endblock %}



            {% if search_results %}
{% for model_name, results in search_results %}
{% if results %}
<h4>{{ model_name }} Report For Patient {% if results %}
    <span style="font-weight: bold; text-align:right;">
        Name: {{ results.0.name }} &nbsp; &nbsp; &nbsp; &nbsp;
        Phone Number: {{ results.0.phone }} &nbsp; &nbsp; &nbsp; &nbsp;
    </span>
    {% endif %}</h4>


    def gave_appointment(request, id):
    # Check if the request method is POST
    if request.method == 'POST':
        # Initialize the form with the submitted POST data
        form = ReceptionForm(request.POST)
        if form.is_valid():
            # Create a new instance of Reception from the form data
            instance = form.save(commit=False)

            # Get the doctor's name from the form's cleaned data
            doctor_name = form.cleaned_data['doctor']
            selected_times = form.cleaned_data['time']

            # Retrieve the corresponding Doctors instance from the database
            instance.doctor = Doctors.objects.get(doctor_name=doctor_name)

            # Get the app_data, days, and time values from the POST data
            app_data = request.POST.get('app_data')
            days = request.POST.get('days')
            time = request.POST.get('time')  # Make sure 'time' is available in the form data

            # Set the user_id, name, and phone for the new instance
            instance.user_id = request.user.id  # Assuming you have access to the user ID
            # Check if the same combination of app_data, days, and time exists in the database
            if Reception.objects.filter(app_data=app_data, days=days, time=selected_times).exists():
                messages.error(request, 'This date, days, and time are already booked. You can choose another Time.')
                return redirect('gave-appointment', id=id)

            # Retrieve the existing Reception instance with the provided ID
            existing_reception = Reception.objects.get(id=id)

            # Set the instance fields using existing data and new values
            instance.idReception_id = id
            instance.gender = existing_reception.gender
            instance.date_of_birth = existing_reception.date_of_birth
            instance.app_data = app_data
            instance.days = days
            instance.time = selected_times

            # Save the new instance to the database
            instance.save()

            # Redirect to 'home' after successful form submission
            messages.success(request, f'Appointment successfully booked for {app_data}, {days}, {selected_times}.')
            return redirect('gave-appointment', id=id)
    else:
        # Retrieve the existing Reception instance with the provided ID
        existing_reception = Reception.objects.get(id=id)

        # Populate the form with initial data from the existing instance
        initial_data = {
            'idReception': id,
            'name': existing_reception.name,
            'phone': existing_reception.phone,
            'gender': existing_reception.gender,
            'date_of_birth': existing_reception.date_of_birth,
            'user_id': existing_reception.user_id
        }
        form = ReceptionForm(initial=initial_data)

    # Retrieve all Reception instances from the database
    appointments = Reception.objects.all().order_by('-id')

    # Clean appointments data before rendering
    cleaned_appointments = []
    for appointment in appointments:
        if appointment.days:
            appointment.days = appointment.days.replace("'", "")
        if appointment.time:
            appointment.time = appointment.time.replace("'", "")
        cleaned_appointments.append(appointment)

    # Render the template with the form and appointments data
    return render(request, 'gave_appointment.html', {'form': form, 'appointments': cleaned_appointments})





      {% for debt in debt3 %}
    <tr>

      <td>Filling</td>
      <td>{{ debt.total_price|format_with_commas }}</td>
      <td>{{ debt.paid|format_with_commas }}</td>
    </tr>
    {% endfor %}


        {% for debt in debt4 %}
    <tr>
      <td>Endo</td>
      <td>{{ debt.total_price|format_with_commas }}</td>
      <td>{{ debt.paid|format_with_commas }}</td>
    </tr>
    {% endfor %}
    {% for debt in debt5 %}
    <tr>
      <td>Ortho</td>
      <td>{{ debt.total_price|format_with_commas }}</td>
      <td>{{ debt.paid|format_with_commas }}</td>
    </tr>
    {% endfor %}
        {% for debt in debt6 %}
    <tr>
      <td>OralSurgery</td>
      <td>{{ debt.total_price|format_with_commas }}</td>
      <td>{{ debt.paid|format_with_commas }}</td>
    </tr>
    {% endfor %}
     {% for debt in debt7 %}
    <tr>
      <td>Prosthodontist</td>
      <td>{{ debt.total_price|format_with_commas }}</td>
      <td>{{ debt.paid|format_with_commas }}</td>
    </tr>
    {% endfor %}
    {% for debt in debt8 %}
    <tr>
      <td>Periodontology</td>
      <td>{{ debt.total_price|format_with_commas }}</td>
      <td>{{ debt.paid|format_with_commas }}</td>
    </tr>
    {% endfor %}
    {% for debt in debt9 %}
    <tr>
      <td>Veneer</td>
      <td>{{ debt.total_price|format_with_commas }}</td>
      <td>{{ debt.paid|format_with_commas }}</td>
    </tr>
    {% endfor %}


def exo(request, id):
    if request.method == 'POST':
        form = ExoForm(request.POST, request.FILES)
        if form.is_valid():
            oral_surgery = form.save(commit=False)
            oral_surgery.idReception1_id = id

            price = form.cleaned_data['price']
            total_price = price
            oral_surgery.total_price = total_price
            reception = Reception1.objects.get(id=id)
            oral_surgery.name = reception.name
            oral_surgery.phone = reception.phone
            oral_surgery.gender = reception.gender
            oral_surgery.date_of_birth = reception.date_of_birth
            oral_surgery.educational_id = reception.educational_id
            oral_surgery.idReception_id = reception.idReception_id
            oral_surgery.doctor_id = reception.doctor_id
            discount_option = form.cleaned_data['discount_option']

            if discount_option == 'Without discount':
                doctor_share = price / 3
                center_share = 2 * price / 3
            elif discount_option == 'Quota discount':
                doctor_share = 0
                center_share = 2 * price / 3
            elif discount_option == 'Full discount':
                doctor_share = -2 * price / 3
                center_share = 0

            oral_surgery.total_price = price
            oral_surgery.doctor_share = doctor_share
            oral_surgery.center_share = center_share

            oral_surgery.save()

            photos = request.FILES.getlist('exo_images')
            exo_instance = form.save(commit=False)
            exo_instance.save()

            for photo in photos:
                Photo.objects.create(exo_instance=exo_instance, image=photo)

            return redirect('exo', id=id)
        else:
            reception = Reception1.objects.get(id=id)
            initial_data = {

                'idReception1_id': id,
                'name': reception.name,
                'phone': reception.phone,
                'gender': reception.gender,
                'date_of_birth': reception.date_of_birth,
                'educational_id': reception.educational_id,
                'idReception_id': reception.idReception_id,
                'doctor_id': reception.doctor_id

            }
            form = ExoForm(initial=initial_data)
    else:
        reception = Reception1.objects.get(id=id)
        initial_data = {

            'idReception1_id': id,
            'name': reception.name,
            'phone': reception.phone,
            'gender': reception.gender,
            'date_of_birth': reception.date_of_birth,
            'educational_id': reception.educational_id,
            'idReception_id': reception.idReception_id,
            'doctor_id': reception.doctor_id
        }
        form = ExoForm(initial=initial_data)

    appointments = Reception1.objects.all().order_by('-id')
    exooes = Exo.objects.filter(idReception1=id)
    # Create a list to store photos for each OralSurgery instance
    photos_list = []

    try:
        exoo = exooes.first()
        photos = exoo.photo_set.all()
    except AttributeError:
        exoo = None
        photos = None

    try:
        medicine = Medicin.objects.get(idReception=id)
    except Medicin.DoesNotExist:
        medicine = None

    for exoo in exooes:
        if exoo.ur:
            exoo.ur = exoo.ur.replace("'", "")
        if exoo.ul:
            exoo.ul = exoo.ul.replace("'", "")
        if exoo.lr:
            exoo.lr = exoo.lr.replace("'", "")
        if exoo.ll:
            exoo.ll = exoo.ll.replace("'", "")
        if exoo.exoby:
            exoo.exoby = exoo.exoby.replace("'", "")
        if exoo.simpleexo:
            exoo.simpleexo = exoo.simpleexo.replace("'", "")
        if exoo.complcated:
            exoo.complcated = exoo.complcated.replace("'", "")
        exoo.total_price = exoo.price
        exoo.save()
        # Retrieve photos associated with the current OralSurgery instance
        photos = exoo.photo_set.all()

        # Append the photos to the photos_list
        photos_list.append(photos)

    formatted_total_prices = ["{:,}".format(exoo.total_price) if exoo.total_price is not None else None for exoo in exooes]
    formatted_prices = ["{:,}".format(exoo.price) if exoo.price is not None else None for exoo in exooes]

    return render(request, 'exo/exo.html', {
        'form': form,
        'appointments': appointments,
        'medicine': medicine,
        'exooes': exooes,
        'id': id,
        'photos': photos,
        'photos_list': photos_list,
        'formatted_total_prices': formatted_total_prices,
        'formatted_prices': formatted_prices
    })

# Adjust the price if price_lab is not null
                try:
                    price_lab_decimal = Decimal(price_lab)
                    adjusted_price = price - price_lab_decimal
                except InvalidOperation:
                    adjusted_price = price

                print(f"Original price: {price}")
                print(f"Price of lab: {price_lab}")
                print(f"Adjusted price: {adjusted_price}")

                if discount_option == 'Without Discount':
                    doctor_share = adjusted_price * proportion_doctor
                    center_share = adjusted_price * proportion_center
                    total_price = price
                elif discount_option == 'None':
                    doctor_share = Decimal('0')
                    center_share = adjusted_price
                    total_price = center_share
                elif discount_option == 'With Discount':
                    doctor_share = Decimal('0')
                    center_share = adjusted_price * proportion_center
                    total_price = center_share + price_lab
                elif discount_option == 'Full Discount':
                    doctor_share = -1 * (adjusted_price * proportion_doctor)
                    center_share = Decimal('0')
                    total_price = price_lab
                elif discount_option == 'No Pay':
                    doctor_share = -1 * (adjusted_price * proportion_doctor) - price_lab
                    center_share = Decimal('0')
                    total_price = center_share
                else:
                    doctor_share = Decimal('0')
                    center_share = Decimal('0')
                    total_price = Decimal('0')

                print(f"Doctor share: {doctor_share}")
                print(f"Center share: {center_share}")
                print(f"Total price before saving: {total_price}")




                        try:
                price_lab_decimal = Decimal(price_lab)
                adjusted_price = price - price_lab_decimal
            except InvalidOperation:
                adjusted_price = price

            if discount_option == 'Without Discount':
                doctor_share = adjusted_price * proportion_doctor
                center_share = adjusted_price * proportion_center
                total_price = price
            elif discount_option == 'None':
                doctor_share = Decimal('0')
                center_share = adjusted_price
                total_price = center_share
            elif discount_option == 'With Discount':
                doctor_share = Decimal('0')
                center_share = adjusted_price * proportion_center
                total_price = center_share + price_lab
            elif discount_option == 'Full Discount':
                doctor_share = -1 * (adjusted_price * proportion_doctor)
                center_share = Decimal('0')
                total_price = price_lab
            elif discount_option == 'No Pay':
                doctor_share = -1 * (adjusted_price * proportion_doctor) - price_lab
                center_share = Decimal('0')
                total_price = center_share
            else:
                doctor_share = Decimal('0')
                center_share = Decimal('0')
                total_price = Decimal('0')

            exoo.doctor_share = doctor_share.quantize(Decimal('0.01'))
            exoo.center_share = center_share.quantize(Decimal('0.01'))
            exoo.total_price = total_price.quantize(Decimal('0.01'))


            this code for select only one checkbox in home.html for time
            	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
    // JavaScript function to handle checkbox click event
    function handleCheckboxClick(checkbox) {
        // Check if the user is logged in (you need to implement this logic)
        var isLoggedIn = checkUserLoginStatus(); // Implement this function

        if (!isLoggedIn) {
            // If not logged in, allow only one checkbox to be checked
            var checkboxes = document.querySelectorAll('input[type="checkbox"]');
            for (var i = 0; i < checkboxes.length; i++) {
                if (checkboxes[i] !== checkbox) {
                    checkboxes[i].checked = false; // Uncheck other checkboxes
                }
            }
        }
    }

    // Implement a function to check user login status
    function checkUserLoginStatus() {
        // You need to implement this logic
        // Return true if the user is logged in, false otherwise
    }
</script>